Turbo Assembler	 Version 4.1	    03/09/20 21:14:43	    Page 1
sortarr.asm



      1				     .186
      2	0000			     .model tiny
      3	0000			     .code
      4				     org     100h
      5				     locals  @@
      6
      7				     public  sortfwd
      8				     public  sortbkd
      9
     10				     ;=================================================
     11				     ; Sortes array of bytes forward
     12				     ; Entry:ES	- segment where	array is
     13				     ;	     DI	- address of array in segment
     14				     ;	     CX	- size of array
     15				     ; Dstr: CX, SI, AX, BX, DX
     16				     ;=================================================
     17
     18	0100			     sortfwd	     proc
     19
     20	0100  8B D9				     mov     bx, cx
     21
     22	0102  51		     @@sortStart:    push    cx	     ;double cycle begin
     23	0103  57				     push    di
     24
     25	0104  03 FB				     add     di, bx
     26	0106  2B F9				     sub     di, cx
     27
     28	0108  26: 8A 05				     mov     al, byte ptr es:[di]
     29	010B  8B F7				     mov     si, di
     30	010D  47				     inc     di
     31
     32	010E  26: 3A 05		     @@insideCy:     cmp     al, byte ptr es:[di]
     33	0111  72 0B				     jb	     @@bigeq
     34
     35	0113  26: 8A 25				     mov     ah, byte ptr es:[di]
     36	0116  26: 88 05				     mov     byte ptr es:[di], al
     37	0119  26: 88 24				     mov     byte ptr es:[si], ah
     38	011C  8A C4				     mov     al, ah
     39
     40	011E  47		     @@bigeq:	     inc     di
     41	011F  49				     dec     cx
     42	0120  83 F9 01				     cmp     cx, 1
     43	0123  75 E9				     jne     @@insideCy
     44
     45	0125  5F				     pop     di
     46	0126  59				     pop     cx
     47	0127  49				     dec     cx
     48	0128  83 F9 01				     cmp     cx, 1
     49	012B  75 D5				     jne     @@sortStart
     50
     51	012D  C3				     ret
     52	012E			     sortfwd	     endp
     53
     54				     ;=================================================
     55				     ; Sortes array of bytes reverse
     56				     ; Entry:ES	- segment where	array is
     57				     ;	     DI	- address of array in segment
Turbo Assembler	 Version 4.1	    03/09/20 21:14:43	    Page 2
sortarr.asm



     58				     ;	     CX	- size of array
     59				     ; Dstr: CX, SI, AX, BX, DX
     60				     ;=================================================
     61
     62	012E			     sortbkd	     proc
     63
     64	012E  8B D9				     mov     bx, cx
     65
     66	0130  51		     @@sortStart2:   push    cx	     ;double cycle begin
     67	0131  57				     push    di
     68
     69	0132  03 FB				     add     di, bx
     70	0134  2B F9				     sub     di, cx
     71
     72	0136  26: 8A 05				     mov     al, byte ptr es:[di]
     73	0139  8B F7				     mov     si, di
     74	013B  47				     inc     di
     75
     76	013C  26: 3A 05		     @@insideCy2:    cmp     al, byte ptr es:[di]
     77	013F  77 0B				     ja	     @@lesseq
     78
     79	0141  26: 8A 25				     mov     ah, byte ptr es:[di]
     80	0144  26: 88 05				     mov     byte ptr es:[di], al
     81	0147  26: 88 24				     mov     byte ptr es:[si], ah
     82	014A  8A C4				     mov     al, ah
     83
     84	014C  47		     @@lesseq:	     inc     di
     85	014D  49				     dec     cx
     86	014E  83 F9 01				     cmp     cx, 1
     87	0151  75 E9				     jne     @@insideCy2
     88
     89	0153  5F				     pop     di
     90	0154  59				     pop     cx
     91	0155  49				     dec     cx
     92	0156  83 F9 01				     cmp     cx, 1
     93	0159  75 D5				     jne     @@sortStart2
     94
     95	015B  C3				     ret
     96	015C			     sortbkd	     endp
     97
     98				     end
Turbo Assembler	 Version 4.1	    03/09/20 21:14:43	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "03/09/20"
??FILENAME			  Text	 "sortarr "
??TIME				  Text	 "21:14:43"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@BIGEQ				  Near	 DGROUP:011E
@@INSIDECY			  Near	 DGROUP:010E
@@INSIDECY2			  Near	 DGROUP:013C
@@LESSEQ			  Near	 DGROUP:014C
@@SORTSTART			  Near	 DGROUP:0102
@@SORTSTART2			  Near	 DGROUP:0130
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0103H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 SORTARR
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
SORTBKD				  Near	 DGROUP:012E
SORTFWD				  Near	 DGROUP:0100

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  015C Word	  Public  CODE
