Turbo Assembler	 Version 4.1	    03/03/20 18:28:37	    Page 1
sortarr.asm



      1				     .186
      2	0000			     .model tiny
      3	0000			     .code
      4				     org     100h
      5				     locals  @@
      6
      7				     public  sortfwd
      8				     public  sortbkd
      9
     10				     ;=================================================
     11				     ; Sortes array of bytes forward
     12				     ; Entry:ES	- segment where	array is
     13				     ;	     DI	- address of array in segment
     14				     ;	     CX	- size of array
     15				     ; Dstr: CX, SI, AX, BX, DX
     16				     ;=================================================
     17
     18	0100			     sortfwd	     proc
     19
     20	0100  8B D9				     mov     bx, cx
     21
     22	0102  51		     @@sortStart:    push    cx	     ;double cycle begin
     23	0103  57				     push    di
     24
     25	0104  03 FB				     add     di, bx
     26	0106  2B F9				     sub     di, cx
     27
     28	0108  26: 8A 05				     mov     al, byte ptr es:[di]
     29	010B  8B F7				     mov     si, di
     30	010D  47				     inc     di
     31
     32	010E  26: 3A 05		     @@insideCy:     cmp     al, byte ptr es:[di]
     33	0111  73 0B				     jae     @@bigeq
     34
     35	0113  26: 8A 25				     mov     ah, byte ptr es:[di]
     36	0116  26: 88 05				     mov     byte ptr es:[di], al
     37	0119  26: 88 24				     mov     byte ptr es:[si], ah
     38	011C  8B F7				     mov     si, di
     39
     40	011E  49		     @@bigeq:	     dec     cx
     41	011F  83 F9 00				     cmp     cx, 0
     42	0122  77 EA				     ja	     @@insideCy
     43
     44	0124  5F				     pop     di
     45	0125  59				     pop     cx
     46	0126  49				     dec     cx
     47	0127  83 F9 00				     cmp     cx, 0
     48	012A  77 D6				     ja	     @@sortStart
     49
     50	012C  C3				     ret
     51	012D			     sortfwd	     endp
     52
     53				     ;=================================================
     54				     ; Sortes array of bytes reverse
     55				     ; Entry:ES	- segment where	array is
     56				     ;	     DI	- address of array in segment
     57				     ;	     CX	- size of array
Turbo Assembler	 Version 4.1	    03/03/20 18:28:37	    Page 2
sortarr.asm



     58				     ; Dstr: CX, SI, AX, BX, DX
     59				     ;=================================================
     60
     61	012D			     sortbkd	     proc
     62
     63	012D  8B D9				     mov     bx, cx
     64
     65	012F  51		     @@sortStart2:   push    cx	     ;double cycle begin
     66	0130  57				     push    di
     67
     68	0131  03 FB				     add     di, bx
     69	0133  2B F9				     sub     di, cx
     70
     71	0135  26: 8A 05				     mov     al, byte ptr es:[di]
     72	0138  8B F7				     mov     si, di
     73	013A  47				     inc     di
     74
     75	013B  26: 3A 05		     @@insideCy2:    cmp     al, byte ptr es:[di]
     76	013E  76 0B				     jbe     @@lesseq
     77	0140  26: 8A 25				     mov     ah, byte ptr es:[di]
     78	0143  26: 88 05				     mov     byte ptr es:[di], al
     79	0146  26: 88 24				     mov     byte ptr es:[si], ah
     80	0149  8B F7				     mov     si, di
     81
     82	014B  49		     @@lesseq:	     dec     cx
     83	014C  83 F9 00				     cmp     cx, 0
     84	014F  77 EA				     ja	     @@insideCy2
     85
     86	0151  5F				     pop     di
     87	0152  59				     pop     cx
     88	0153  49				     dec     cx
     89	0154  83 F9 00				     cmp     cx, 0
     90	0157  77 D6				     ja	     @@sortStart2
     91
     92	0159  C3				     ret
     93	015A			     sortbkd	     endp
     94
     95				     end
Turbo Assembler	 Version 4.1	    03/03/20 18:28:37	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "03/03/20"
??FILENAME			  Text	 "sortarr "
??TIME				  Text	 "18:28:37"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@BIGEQ				  Near	 DGROUP:011E
@@INSIDECY			  Near	 DGROUP:010E
@@INSIDECY2			  Near	 DGROUP:013B
@@LESSEQ			  Near	 DGROUP:014B
@@SORTSTART			  Near	 DGROUP:0102
@@SORTSTART2			  Near	 DGROUP:012F
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0103H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 SORTARR
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
SORTBKD				  Near	 DGROUP:012D
SORTFWD				  Near	 DGROUP:0100

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  015A Word	  Public  CODE
